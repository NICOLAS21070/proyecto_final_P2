<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>

<AnchorPane xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.uniquindio.edu.co.poo.proyecto_final_p2.ViewController.CotizarEnvioController"
            prefWidth="800" prefHeight="600"
            style="-fx-background-color: #F5F5F5;">

    <VBox spacing="20" alignment="CENTER" prefWidth="800" prefHeight="600">
        <padding>
            <Insets top="30" right="30" bottom="30" left="30"/>
        </padding>

        <Label text="ðŸ“¦ Cotizar EnvÃ­o"
               style="-fx-font-size: 22px; -fx-font-weight: bold;"/>

        <!-- Formulario de datos -->
        <GridPane hgap="15" vgap="15" alignment="CENTER">
            <columnConstraints>
                <ColumnConstraints halignment="RIGHT" prefWidth="200"/>
                <ColumnConstraints halignment="LEFT" prefWidth="300"/>
            </columnConstraints>

            <!-- Campo Origen -->
            <Label text="Origen:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
            <ComboBox fx:id="cbOrigen" GridPane.rowIndex="0" GridPane.columnIndex="1">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <String fx:value="Armenia (QuindÃ­o)"/>
                        <String fx:value="Buenavista (QuindÃ­o)"/>
                        <String fx:value="CalarcÃ¡ (QuindÃ­o)"/>
                        <String fx:value="Cartago (Valle del Cauca)"/>
                        <String fx:value="Caicedonia (Valle del Cauca)"/>
                        <String fx:value="Circasia (QuindÃ­o)"/>
                        <String fx:value="CÃ³rdoba (QuindÃ­o)"/>
                        <String fx:value="Dosquebradas (Risaralda)"/>
                        <String fx:value="Filandia (QuindÃ­o)"/>
                        <String fx:value="GÃ©nova (QuindÃ­o)"/>
                        <String fx:value="La Tebaida (QuindÃ­o)"/>
                        <String fx:value="Montenegro (QuindÃ­o)"/>
                        <String fx:value="Pereira (Risaralda)"/>
                        <String fx:value="PÃ­jao (QuindÃ­o)"/>
                        <String fx:value="Quimbata (QuindÃ­o)"/>
                        <String fx:value="Salento (QuindÃ­o)"/>
                    </FXCollections>
                </items>
            </ComboBox>

            <!-- Campo Destino -->
            <Label text="Destino:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
            <ComboBox fx:id="cbDestino" GridPane.rowIndex="1" GridPane.columnIndex="1">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <String fx:value="Armenia (QuindÃ­o)"/>
                        <String fx:value="Buenavista (QuindÃ­o)"/>
                        <String fx:value="CalarcÃ¡ (QuindÃ­o)"/>
                        <String fx:value="Cartago (Valle del Cauca)"/>
                        <String fx:value="Caicedonia (Valle del Cauca)"/>
                        <String fx:value="Circasia (QuindÃ­o)"/>
                        <String fx:value="CÃ³rdoba (QuindÃ­o)"/>
                        <String fx:value="Dosquebradas (Risaralda)"/>
                        <String fx:value="Filandia (QuindÃ­o)"/>
                        <String fx:value="GÃ©nova (QuindÃ­o)"/>
                        <String fx:value="La Tebaida (QuindÃ­o)"/>
                        <String fx:value="Montenegro (QuindÃ­o)"/>
                        <String fx:value="Pereira (Risaralda)"/>
                        <String fx:value="PÃ­jao (QuindÃ­o)"/>
                        <String fx:value="Quimbata (QuindÃ­o)"/>
                        <String fx:value="Salento (QuindÃ­o)"/>
                    </FXCollections>
                </items>
            </ComboBox>

            <Label text="Peso (kg):" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
            <TextField fx:id="txtPeso" promptText="Ej: 2.5" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

            <Label text="Volumen (mÂ³):" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
            <TextField fx:id="txtVolumen" promptText="Ej: 0.03" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

            <Label text="Nombre remitente:" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
            <TextField fx:id="txtRemitente" promptText="Ej: Juan PÃ©rez" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

            <Label text="DirecciÃ³n destino:" GridPane.rowIndex="5" GridPane.columnIndex="0"/>
            <TextField fx:id="txtDireccion" promptText="Ej: Calle 12 #3-45" GridPane.rowIndex="5" GridPane.columnIndex="1"/>

            <Label text="Prioridad:" GridPane.rowIndex="6" GridPane.columnIndex="0"/>
            <ChoiceBox fx:id="cbPrioridad" GridPane.rowIndex="6" GridPane.columnIndex="1">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <String fx:value="Normal"/>
                        <String fx:value="Urgente"/>
                        <String fx:value="ExprÃ©s"/>
                    </FXCollections>
                </items>
            </ChoiceBox>
        </GridPane>

        <!-- Servicios adicionales -->
        <TitledPane text="Servicios Adicionales" expanded="true" prefWidth="500">
            <VBox spacing="8">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10"/>
                </padding>
                <CheckBox fx:id="chkSeguro" text="Seguro de envÃ­o"/>
                <CheckBox fx:id="chkFragil" text="Paquete frÃ¡gil"/>
                <CheckBox fx:id="chkFirma" text="Requiere firma de entrega"/>
                <CheckBox fx:id="chkPrioridadExtra" text="Prioridad adicional"/>
            </VBox>
        </TitledPane>

        <!-- BotÃ³n Calcular -->
        <Button fx:id="btnCalcular" text="Calcular Tarifa"
                onAction="#calcularTarifa"
                style="-fx-background-color: #1976D2; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 25;"/>

        <!-- BOTÃ“N DE CREAR (AZUL) -->
        <Button text="Crear EnvÃ­o"
                onAction="#crearEnvioDesdeCotizacion"
                style="-fx-background-color: #1976D2; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 25;"
                prefWidth="140" prefHeight="35"/>

        <!-- Resultado -->
        <VBox fx:id="panelResultado" visible="false" spacing="10" alignment="CENTER"
              style="-fx-background-color: #E3F2FD; -fx-padding: 15; -fx-border-color: #1976D2; -fx-border-radius: 5;">
            <Label text="Resultado de la CotizaciÃ³n" style="-fx-font-size: 16; -fx-font-weight: bold;"/>
            <Label fx:id="lblCosto" text="Costo: $0.00" style="-fx-font-size: 14;"/>
        </VBox>

        <!-- BotÃ³n volver -->
        <Button text="â¬… Volver" onAction="#volver"
                style="-fx-background-color: #0078D7; -fx-text-fill: white;"/>
    </VBox>

</AnchorPane>
